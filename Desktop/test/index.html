<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test task</title>
    <style></style>
  </head>
  <body>
    <script>
      const body = document.querySelector("body");

      for (let index = 0; index <= 100; index++) {
        // create div element
        const div = document.createElement("div");
        div.setAttribute("id", `${index}`);
        div.setAttribute("data-clicked", "false");
        div.innerText = `DIV ${index}`;

        // add some css
        div.style.width = "100px";
        div.style.height = "100px";
        div.style.display = "flex";
        div.style.alignItems = "center";
        div.style.justifyContent = "center";
        div.style.margin = "auto";
        const randColor1 = Math.floor(Math.random() * 256);
        const randColor2 = Math.floor(Math.random() * 256);
        const randColor3 = Math.floor(Math.random() * 256);
        div.style.background = `rgb(${randColor1},${randColor2},${randColor3})`;

        // add div to body element
        body.appendChild(div);

        // function hendler
        function moveElement(event) {
          //get information about clicked element
          const isElementMoved = event.target.dataset.clicked === "false";
          const element = event.target;
          element.remove();

          //changing position of the lement
          if (isElementMoved) {
            element.setAttribute("data-clicked", "true");
            body.insertAdjacentElement("afterbegin", element);
          } else {
            element.setAttribute("data-clicked", "false");

            if ((element.id = "0")) {
              body.insertAdjacentElement("afterbegin", element);
            } else {
              const previousElement = document.getElementById(
                `${Number(event.target.id) - 1}`
              );
              previousElement.insertAdjacentElement("afterend", element);
            }
          }
        }

        // add events on click

        div.addEventListener("click", moveElement);
        div.addEventListener("ontouchstart", moveElement);
      }
    </script>
  </body>
</html>
